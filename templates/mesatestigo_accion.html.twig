{% extends "layout.html.twig" %}

{% block content %}
    {% include "navigator.html.twig" %}
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Mesas testigo - Circuito {{circuito.nombre}}</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                            <thead>
                                <tr>
                                    <th>Mesa</th>
                                    <th>Provincia</th>
                                    <th>Departamento</th>
                                    <th>Localidad</th>
                                    <th>Electores P.</th>
                                    <th>Electores N.</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in testigos%}
                                    <tr class="odd gradeX">
                                        <td>{{item.numero}}</td>
                                        <td>{{item.p_nombre}}</td>
                                        <td>{{item.s_nombre}}</td>
                                        <td>{{item.c_nombre}}</td>
                                        <td>{{item.electores_provincia}}</td>
                                        <td>{{item.electores_nacion}}</td>
                                        <td>
                                            <button type="button" class="btn btn-danger" 
                                                    onclick="window.location.href = '{{ path('testigo_accion',{'circuito':circuito.id}) }}?borrar={{item.id}}';">Borrar</button>
                                        </td>
                                    </tr>
                                {% endfor %}

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Nueva mesa testigo
                </div>
                <div class="panel-body">
                    <form role="form" action="{{path('testigo_accion',{'circuito':circuito.id})}}" method="GET">
                        <div class="form-group">
                            <label>Mesa</label>
                            <input class="form-control" name="numero" type="number" size="4" min="1">
                            <label>Electores provincia</label>
                            <input class="form-control" name="electores_provincia" type="number" size="4" min="1">
                            <label>Electores nacion</label>
                            <input class="form-control" name="electores_nacion" type="number" size="4" min="1">

                            <input type="submit"  class="btn btn-primary" name=nueva value="Crear">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}    

{% block final %}
    <script src="{{ asset('/vendor/datatables/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('/vendor/datatables-plugins/dataTables.bootstrap.min.js') }}"></script>
    <script src="{{ asset('vendor/datatables-responsive/dataTables.responsive.js') }}"></script>
    <script>
                                                                                                $(document).ready(function () {
                                                                                                    $('#dataTables-example').DataTable({
                                                                                                        responsive: true
                                                                                                    });
                                                                                                });
    </script>
{% endblock %}


